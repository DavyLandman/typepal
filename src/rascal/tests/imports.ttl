test I1 [[ module A
           public int N = 0;
           
           module B     // <-- missing import
           int M = N;
]] expect { "Undefined `N`" }

test I2 [[ module A
           public int N = 0;
           
           module B
           import A;
           int M = N;
]]

test I3 [[ module A
           int N = 0;     // <-- not public
           
           module B
           import A;
           int M = N;
]] expect { "Undefined `N`" }

test I4 [[ module A
           int N = 0;
           
           module B
           extend A;
           int M = N;
]] 

test I5 [[ module A
           public int N = 0;
           
           module B
           import A;    //  <-- import not transitive for decls
           
           module C
           import B;
           int X = N;
]] expect { "Undefined `N`" }

test I6 [[ module A
           public int N = 0;
           
           module B
           extend A;
           
           module C
           import B;
           int X = N;
]]

test I7 [[ module A
           public int N = 0;
           
           module B
           extend A;
           
           module C
           extend B;
           int X = N;
]]

test I8 [[ module A
           public int N = 0;
           
           module B
           import A;
           
           module C
           extend B;
           int X = N;
]] expect { "Undefined `N`" }


test C1 [[ module A
           import B;
           public int N = 0;
           
           module B
           import A;
           
           module C
           import A;
           int X = N;
]]